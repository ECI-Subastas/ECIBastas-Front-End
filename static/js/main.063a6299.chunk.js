(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{82:function(e,t,r){},83:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(21),s=r.n(a),i=r(10),u=r(43),o=(r(55),u.a.initializeApp({apiKey:"AIzaSyBA_D9d3nKXf42IP2SNOWYAuneHAV6aL1c",authDomain:"auth-development-b211d.firebaseapp.com",projectId:"auth-development-b211d",storageBucket:"auth-development-b211d.appspot.com",messagingSenderId:"335789698441",appId:"1:335789698441:web:8560d0161db0e801f88558"})),l=o.auth(),j=r(1),d=c.a.createContext();function b(){return Object(n.useContext)(d)}function p(e){var t=e.children,r=Object(n.useState)(),c=Object(i.a)(r,2),a=c[0],s=c[1],u=Object(n.useState)(!0),o=Object(i.a)(u,2),b=o[0],p=o[1];Object(n.useEffect)((function(){return l.onAuthStateChanged((function(e){s(e),p(!1)}))}),[]);var h={currentUser:a,login:function(e,t){return l.signInWithEmailAndPassword(e,t)},signup:function(e,t){return l.createUserWithEmailAndPassword(e,t)},logout:function(){return l.signOut()},resetPassword:function(e){return l.sendPasswordResetEmail(e)},updateEmail:function(e){return a.updateEmail(e)},updatePassword:function(e){return a.updatePassword(e)}};return Object(j.jsx)(d.Provider,{value:h,children:!b&&t})}var h=r(8),O=r(11),x=r.n(O),f=r(20),m=r(88),v=r(86),g=r(85),w=r(18);function y(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],c=t[1],a=b(),s=a.currentUser,u=a.logout,o=Object(h.g)();function l(){return(l=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,u();case 4:o.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m.a,{children:Object(j.jsxs)(m.a.Body,{children:[Object(j.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),r&&Object(j.jsx)(v.a,{variant:"danger",children:r}),Object(j.jsx)("strong",{children:"Email:"})," ",s.email,Object(j.jsx)(w.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(j.jsx)("div",{className:"w-100 text-center mt-2",children:Object(j.jsx)(g.a,{variant:"link",onClick:function(){return l.apply(this,arguments)},children:"Log Out"})})]})}var k=r(25),S=r(49);function P(e){var t=e.component,r=Object(S.a)(e,["component"]),n=b().currentUser;return Object(j.jsx)(h.b,Object(k.a)(Object(k.a)({},r),{},{render:function(e){return n?Object(j.jsx)(t,Object(k.a)({},e)):Object(j.jsx)(h.a,{to:"/"})}}))}var N=r(87);function C(){var e=Object(n.useRef)(),t=b().resetPassword,r=Object(n.useState)(""),c=Object(i.a)(r,2),a=c[0],s=c[1],u=Object(n.useState)(""),o=Object(i.a)(u,2),l=o[0],d=o[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),O=h[0],y=h[1];function k(){return(k=Object(f.a)(x.a.mark((function r(n){return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.prev=1,d(""),s(""),y(!0),r.next=7,t(e.current.value);case 7:d("Check your inbox for further instructions"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),s("Failed to reset password");case 13:y(!1);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m.a,{children:Object(j.jsxs)(m.a.Body,{children:[Object(j.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),a&&Object(j.jsx)(v.a,{variant:"danger",children:a}),l&&Object(j.jsx)(v.a,{variant:"success",children:l}),Object(j.jsxs)(N.a,{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(j.jsxs)(N.a.Group,{id:"email",children:[Object(j.jsx)(N.a.Label,{children:"Email"}),Object(j.jsx)(N.a.Control,{type:"email",ref:e,required:!0})]}),Object(j.jsx)(g.a,{disabled:O,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(j.jsx)("div",{className:"w-100 text-center mt-3",children:Object(j.jsx)(w.b,{to:"/",children:"Login"})})]})}),Object(j.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(j.jsx)(w.b,{to:"/signup",children:"Sign Up"})]})]})}function E(){var e=Object(n.useRef)(),t=Object(n.useRef)(),r=Object(n.useRef)(),c=b(),a=c.currentUser,s=c.updatePassword,u=c.updateEmail,o=Object(n.useState)(""),l=Object(i.a)(o,2),d=l[0],p=l[1],O=Object(n.useState)(!1),x=Object(i.a)(O,2),f=x[0],y=x[1],k=Object(h.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m.a,{children:Object(j.jsxs)(m.a.Body,{children:[Object(j.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),d&&Object(j.jsx)(v.a,{variant:"danger",children:d}),Object(j.jsxs)(N.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==r.current.value)return p("Passwords do not match");var c=[];y(!0),p(""),e.current.value!==a.email&&c.push(u(e.current.value)),t.current.value&&c.push(s(t.current.value)),Promise.all(c).then((function(){k.push("/dashboard")})).catch((function(){p("Failed to update account")})).finally((function(){y(!1)}))},children:[Object(j.jsxs)(N.a.Group,{id:"email",children:[Object(j.jsx)(N.a.Label,{children:"Email"}),Object(j.jsx)(N.a.Control,{type:"email",ref:e,required:!0,defaultValue:a.email})]}),Object(j.jsxs)(N.a.Group,{id:"password",children:[Object(j.jsx)(N.a.Label,{children:"Password"}),Object(j.jsx)(N.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(j.jsxs)(N.a.Group,{id:"password-confirm",children:[Object(j.jsx)(N.a.Label,{children:"Password Confirmation"}),Object(j.jsx)(N.a.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),Object(j.jsx)(g.a,{disabled:f,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(j.jsx)("div",{className:"w-100 text-center mt-2",children:Object(j.jsx)(w.b,{to:"/",children:"Cancel"})})]})}var L=r(48),R=r.n(L),U=(r(82),function(e){var t=Object(n.useRef)(),r=Object(n.useRef)(),a=Object(n.useRef)(),s=Object(n.useRef)(),u=Object(n.useRef)(),o=(Object(n.useRef)(),Object(n.useRef)()),l=Object(n.useRef)(),d=c.a.createRef(),p=b().signup,O=b().login,m=Object(n.useState)(""),v=Object(i.a)(m,2),g=(v[0],v[1]),w=Object(n.useState)(!1),y=Object(i.a)(w,2),k=(y[0],y[1]),S=Object(h.g)(),P=function(){var e=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.current.classList.add("right-panel-active");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.current.classList.remove("right-panel-active");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(""),k(!0),e.next=5,O(o.current.value,l.current.value);case 5:S.push("/dashboard"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g("Sign In Failed.");case 11:k(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(""),k(!0),e.next=5,p(a.current.value,s.current.value);case 5:R.a.post("https://ecibastas-app.herokuapp.com/user/createNewUser",{nickname:t.current.value,fullName:r.current.value,email:a.current.value,phone:u.current.value,role:"User"}).then((function(e){console.log(e)})).catch((function(e){console.log("Error: ".concat(e))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g("Error during user register.");case 11:S.push("/"),k(!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{class:"container",id:"container",ref:d,children:[Object(j.jsx)("div",{class:"form-container sign-up-container",children:Object(j.jsxs)("form",{action:"#",children:[Object(j.jsx)("h1",{children:"Create Account"}),Object(j.jsx)("input",{type:"text",placeholder:"Nickname",ref:t,maxLength:"100",required:!0}),Object(j.jsx)("input",{type:"text",placeholder:"Full Name",ref:r,maxLength:"100",required:!0}),Object(j.jsx)("input",{type:"text",placeholder:"Phone Number",ref:u,minLength:"10",maxLength:"10",required:!0}),Object(j.jsx)("input",{type:"email",placeholder:"Email",ref:a,maxLength:"100",required:!0}),Object(j.jsx)("input",{type:"password",placeholder:"Password",ref:s,required:!0}),Object(j.jsx)("button",{type:"submit",onClick:E,children:"Sign Up"})]})}),Object(j.jsx)("div",{class:"form-container sign-in-container",children:Object(j.jsxs)("form",{action:"#",children:[Object(j.jsx)("h1",{children:"Sign in"}),Object(j.jsx)("input",{type:"email",placeholder:"Email",ref:o,required:!0}),Object(j.jsx)("input",{type:"password",placeholder:"Password",ref:l,required:!0}),Object(j.jsx)("button",{type:"submit",onClick:C,children:"Sign In"})]})}),Object(j.jsx)("div",{class:"overlay-container",children:Object(j.jsxs)("div",{class:"overlay",children:[Object(j.jsxs)("div",{class:"overlay-panel overlay-left",children:[Object(j.jsx)("h1",{children:"Welcome Back!"}),Object(j.jsx)("p",{children:"To keep connected with us please login with your personal info"}),Object(j.jsx)("button",{class:"ghost",id:"signIn",onClick:N,children:"Sign In"})]}),Object(j.jsxs)("div",{class:"overlay-panel overlay-right",children:[Object(j.jsx)("h1",{children:"Hello, Friend!"}),Object(j.jsx)("p",{children:"Enter your personal details and start journey with us."}),Object(j.jsx)("button",{class:"ghost",id:"signUp",onClick:P,children:"Sign Up"})]})]})})]})});var I=function(){return Object(j.jsx)(p,{children:Object(j.jsxs)(h.d,{children:[Object(j.jsx)(h.b,{path:"/",component:U,exact:!0}),Object(j.jsx)(h.b,{path:"/forgot-password",component:C}),Object(j.jsx)(P,{path:"/dashboard",component:y}),Object(j.jsx)(P,{path:"/update-profile",component:E})]})})};s.a.render(Object(j.jsx)(w.a,{children:Object(j.jsx)(I,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.063a6299.chunk.js.map